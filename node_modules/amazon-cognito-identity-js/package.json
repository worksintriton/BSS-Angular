{
  "_args": [
    [
      {
        "raw": "amazon-cognito-identity-js@https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
        "scope": null,
        "escapedName": "amazon-cognito-identity-js",
        "name": "amazon-cognito-identity-js",
        "rawSpec": "https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
        "spec": "https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
        "type": "remote"
      },
      "/Users/mohammedimthiyas/Documents/BSS 2"
    ]
  ],
  "_from": "amazon-cognito-identity-js@https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
  "_id": "amazon-cognito-identity-js@2.0.19",
  "_inCache": true,
  "_location": "/amazon-cognito-identity-js",
  "_phantomChildren": {},
  "_requested": {
    "raw": "amazon-cognito-identity-js@https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
    "scope": null,
    "escapedName": "amazon-cognito-identity-js",
    "name": "amazon-cognito-identity-js",
    "rawSpec": "https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
    "spec": "https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
    "type": "remote"
  },
  "_requiredBy": [
    "/",
    "/@aws-amplify/auth"
  ],
  "_resolved": "https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
  "_shasum": "0f64d861ff143630331a7e46f7a3c3a19b98c418",
  "_shrinkwrap": null,
  "_spec": "amazon-cognito-identity-js@https://registry.npmjs.org/amazon-cognito-identity-js/-/amazon-cognito-identity-js-2.0.19.tgz",
  "_where": "/Users/mohammedimthiyas/Documents/BSS 2",
  "author": {
    "name": "Amazon Web Services",
    "email": "aws@amazon.com",
    "url": "http://aws.amazon.com"
  },
  "bugs": {
    "url": "https://github.com/aws/aws-amplify/issues"
  },
  "contributors": [
    {
      "name": "Simon Buchan with Skilitics"
    },
    {
      "name": "Jonathan Goldwasser"
    },
    {
      "name": "Matt Durant"
    },
    {
      "name": "John Ferlito"
    },
    {
      "name": "Michael Hart"
    },
    {
      "name": "Tylor Steinberger"
    },
    {
      "name": "Paul Watts"
    },
    {
      "name": "Gleb Promokhov"
    },
    {
      "name": "Min Bi"
    },
    {
      "name": "Michael Labieniec"
    },
    {
      "name": "Chetan Mehta",
      "email": "chetam@amazon.com"
    },
    {
      "name": "Ionut Trestian",
      "email": "trestian@amazon.com"
    }
  ],
  "dependencies": {
    "buffer": "4.9.1",
    "crypto-browserify": "1.0.9",
    "js-cookie": "^2.1.4"
  },
  "description": "Amazon Cognito Identity Provider JavaScript SDK",
  "devDependencies": {
    "babel-cli": "^6.23.0",
    "babel-core": "^6.13.2",
    "babel-loader": "^6.2.4",
    "babel-plugin-transform-es2015-modules-commonjs": "^6.23.0",
    "babel-preset-es2015": "^6.22.0",
    "babel-preset-react": "^6.24.1",
    "babel-preset-stage-2": "^6.24.1",
    "cross-env": "^3.1.4",
    "eslint": "^3.19.0",
    "eslint-config-airbnb-base": "^5.0.2",
    "eslint-import-resolver-webpack": "^0.5.1",
    "eslint-plugin-import": "^2.7.0",
    "eslint-plugin-node": "^5.2.0",
    "eslint-plugin-promise": "^3.6.0",
    "eslint-plugin-standard": "^3.0.1",
    "jsdoc": "^3.4.0",
    "react": "^16.0.0",
    "react-native": "^0.44.0",
    "rimraf": "^2.5.4",
    "webpack": "^3.5.5"
  },
  "homepage": "http://aws.amazon.com/cognito",
  "jsnext:main": "es/index.js",
  "keywords": [
    "amazon",
    "aws",
    "cognito",
    "identity",
    "react-native",
    "reactnative"
  ],
  "license": "SEE LICENSE IN LICENSE.txt",
  "licenses": [
    {
      "type": "Amazon Software License",
      "url": "http://aws.amazon.com/asl"
    }
  ],
  "main": "lib/index.js",
  "module": "es/index.js",
  "name": "amazon-cognito-identity-js",
  "optionalDependencies": {},
  "react-native": {
    "lib/index.js": "./enhance-rn.js",
    "./src/StorageHelper": "./src/StorageHelper-rn.js"
  },
  "readme": "# Amazon Cognito Identity SDK for JavaScript\n\nYou can now use Amazon Cognito to easily add user sign-up and sign-in to your mobile and web apps. Your User Pool in Amazon Cognito is a fully managed user directory that can scale to hundreds of millions of users, so you don't have to worry about building, securing, and scaling a solution to handle user management and authentication.\n\nWe welcome developer feedback on this project. You can reach us by creating an issue on the\nGitHub repository or posting to the Amazon Cognito Identity forums and the below blog post:\n* https://github.com/aws/amazon-cognito-identity-js\n* https://forums.aws.amazon.com/forum.jspa?forumID=173\n* https://aws.amazon.com/blogs/mobile/accessing-your-user-pools-using-the-amazon-cognito-identity-sdk-for-javascript/\n\nFor an overview of the Cognito authentication flow, refer to the following blog post:\n* https://aws.amazon.com/blogs/mobile/customizing-your-user-pool-authentication-flow/\n\nIntroduction\n============\nThe Amazon Cognito Identity SDK for JavaScript allows JavaScript enabled applications to sign-up users, authenticate users, view, delete, and update user attributes within the Amazon Cognito Identity service. Other functionality includes password changes for authenticated users and initiating and completing forgot password flows for unauthenticated users.\n\nYour users will benefit from a number of security features including SMS-based Multi-Factor Authentication (MFA) and account verification via phone or email. The password features use the Secure Remote Password (SRP) protocol to avoid sending cleartext passwords over the wire.\n\nSetup\n=====\n\nThere are two ways to install the Amazon Cognito Identity SDK for JavaScript and its dependencies,\ndepending on your project setup and experience with modern JavaScript build tools:\n\n* Download the JavaScript library and include it in your HTML, or\n\n* Install the dependencies with npm and use a bundler like webpack.\n\n**Note:** This library uses the [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API). For [older browsers](https://caniuse.com/#feat=fetch) or in Node.js, you may need to include a polyfill.\n\n## Install using separate JavaScript file\n\nThis method is simpler and does not require additional tools, but may have worse performance due to\nthe browser having to download multiple files.\n\nDownload the JavaScript [library file](https://raw.githubusercontent.com/aws/aws-amplify/master/packages/amazon-cognito-identity-js/dist/amazon-cognito-identity.min.js) and place it in your project.\n\nOptionally, to use other AWS services, include a build of the [AWS SDK for JavaScript](http://aws.amazon.com/sdk-for-browser/).\n\nInclude all of the files in your HTML page before calling any Amazon Cognito Identity SDK APIs:\n\n```html\n    <script src=\"/path/to/amazon-cognito-identity.min.js\"></script>\n    <!-- optional: only if you use other AWS services -->\n    <script src=\"/path/to/aws-sdk-2.6.10.js\"></script>\n```\n\n## Using NPM and Webpack\n\nWebpack is a popular JavaScript bundling and optimization tool, it has many configuration features that can build your\nsource JavaScript into one or more files for distribution. The following is a quick setup guide with specific notes for\nusing the Amazon Cognito Identity SDK for JavaScript with it, but there are many more ways it can be used, see\n[the Webpack site](https://webpack.github.io/), and in particular the\n[configuration documentation](http://webpack.github.io/docs/configuration.html)\n\nNote that webpack expects your source files to be structured as\n[CommonJS (Node.js-style) modules](https://webpack.github.io/docs/commonjs.html)\n(or [ECMAScript 2015 modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import)\nif you are using a transpiler such as [Babel](https://babeljs.io/).) If your project is not already using modules you\nmay wish to use [Webpack's module shimming features](http://webpack.github.io/docs/shimming-modules.html) to ease\nmigration.\n\n* Install [Node.js](https://nodejs.org) on your development machine (this will not be needed on your server.)\n\n* In your project add a `package.json`, either use `npm init` or the minimal:\n\n  ```json\n  {\n    \"private\": true\n  }\n  ```\n\n* Install the Amazon Cognito Identity SDK for JavaScript and the Webpack tool into your project with `npm` (the Node\n  Package Manager, which is installed with Node.js):\n\n  ```\n  > npm install --save-dev webpack json-loader\n  > npm install --save amazon-cognito-identity-js\n  ```\n\n  These will add a `node_modules` directory containing these tools and dependencies into your\n  project, you will probably want to exclude this directory from source control. Adding the `--save`\n  parameters will update the `package.json` file with instructions on what should be installed, so\n  you can simply call `npm install` without any parameters to recreate this folder later.\n\n* Create the configuration file for `webpack`, named `webpack.config.js`:\n\n  ```js\n  module.exports = {\n    // Example setup for your project:\n    // The entry module that requires or imports the rest of your project.\n    // Must start with `./`!\n    entry: './src/entry.js',\n    // Place output files in `./dist/my-app.js`\n    output: {\n      path: __dirname + '/dist',\n      filename: 'my-app.js'\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.json$/,\n          loader: 'json-loader'\n        }\n      ]\n    }\n  };\n  ```\n\n* Create the following directory where `webpack.config.js` resides, and create the entry file:\n\n  ```\n  > mkdir -p src\n  > touch src/entry.js\n  ```\n\n* Add the following into your `package.json`\n\n  ```json\n  {\n    \"scripts\": {\n      \"build\": \"webpack\"\n    }\n  }\n  ```\n\n* Build your application bundle with `npm run build`\n\n## Install for React Native\n\nSee [Using NPM and Webpack](https://github.com/aws/amazon-cognito-identity-js#using-npm-and-webpack) for more information on NPM.\n\n* Install and add to your dependencies the Amazon Cognito Identity SDK for JavaScript:\n\n```\nnpm install --save amazon-cognito-identity-js\n```\n\n* Install react-native-cli if you have not already:\n\n```\nnpm install -g react-native-cli\n```\n\n* Link the native modules to your project:\n\n```\nreact-native link amazon-cognito-identity-js\n```\n\n## Configuration\n\nThe Amazon Cognito Identity SDK for JavaScript requires two configuration values from your AWS\nAccount in order to access your Cognito User Pool:\n\n* The User Pool Id, e.g. `us-east-1_aB12cDe34`\n* A User Pool App Client Id, e.g. `7ghr5379orhbo88d52vphda6s9`\n  * When creating the App, the generate client secret box must be **unchecked** because the\n    JavaScript SDK doesn't support apps that have a client secret.\n\nThe [AWS Console for Cognito User Pools](https://console.aws.amazon.com/cognito/users/) can be used to get or create these values.\n\nIf you will be using Cognito Federated Identity to provide access to your AWS resources or Cognito Sync you will also need the Id of a Cognito Identity Pool that will accept logins from the above Cognito User Pool and App, i.e. `us-east-1:85156295-afa8-482c-8933-1371f8b3b145`.\n\nNote that the various errors returned by the service are valid JSON so one can access the different exception types (err.code) and status codes (err.statusCode).\n\n## Relevant examples\n\nFor an example using babel-webpack of a React setup, see [babel-webpack example](https://github.com/aws/amazon-cognito-identity-js/tree/master/examples/babel-webpack).\n\nFor a working example using angular, see [cognito-angular2-quickstart](https://github.com/awslabs/aws-cognito-angular2-quickstart).\n\nFor a working example using ember.js, see:\n\n- [aws-serverless-ember](https://github.com/awslabs/aws-serverless-ember).\n- [aws-mobilehub-ember](https://github.com/awslabs/aws-mobilehub-ember).\n\nIf you are having issues when using Aurelia, please see the following [Stack Overflow post](http://stackoverflow.com/questions/39714424/how-can-i-get-the-amazon-cognito-identity-sdk-working-in-aurelia).\n\n## Usage\n\nThe usage examples below use the unqualified names for types in the Amazon Cognito Identity SDK for JavaScript. Remember to import or qualify access to any of these types:\n    \n```javascript\n    // When using loose Javascript files:\n    var CognitoUserPool = AmazonCognitoIdentity.CognitoUserPool;\n\n    // Modules, e.g. Webpack:\n    var AmazonCognitoIdentity = require('amazon-cognito-identity-js');\n    var CognitoUserPool = AmazonCognitoIdentity.CognitoUserPool;\n\n    // ES Modules, e.g. transpiling with Babel\n    import { CognitoUserPool, CognitoUserAttribute, CognitoUser } from 'amazon-cognito-identity-js';\n```\n\n**Use case 1.** Registering a user with the application. One needs to create a CognitoUserPool object by providing a UserPoolId and a ClientId and signing up by using a username, password, attribute list, and validation data.\n\n```javascript\n\n    var poolData = {\n        UserPoolId : '...', // Your user pool id here\n        ClientId : '...' // Your client id here\n    };\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n    var attributeList = [];\n\n    var dataEmail = {\n        Name : 'email',\n        Value : 'email@mydomain.com'\n    };\n\n    var dataPhoneNumber = {\n        Name : 'phone_number',\n        Value : '+15555555555'\n    };\n    var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n    var attributePhoneNumber = new AmazonCognitoIdentity.CognitoUserAttribute(dataPhoneNumber);\n\n    attributeList.push(attributeEmail);\n    attributeList.push(attributePhoneNumber);\n\n    userPool.signUp('username', 'password', attributeList, null, function(err, result){\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        cognitoUser = result.user;\n        console.log('user name is ' + cognitoUser.getUsername());\n    });\n```\n\n**Use case 2.** Confirming a registered, unauthenticated user using a confirmation code received via SMS.\n\n```javascript\n    var poolData = {\n        UserPoolId : '...', // Your user pool id here\n        ClientId : '...' // Your client id here\n    };\n\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n    var userData = {\n        Username : 'username',\n        Pool : userPool\n    };\n\n    var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\n    cognitoUser.confirmRegistration('123456', true, function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 3.** Resending a confirmation code via SMS for confirming registration for a unauthenticated user.\n\n```javascript\n    cognitoUser.resendConfirmationCode(function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 4.** Authenticating a user and establishing a user session with the Amazon Cognito Identity service.\n\n\n```javascript\n    var authenticationData = {\n        Username : 'username',\n        Password : 'password',\n    };\n    var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);\n    var poolData = {\n        UserPoolId : '...', // Your user pool id here\n        ClientId : '...' // Your client id here\n    };\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n    var userData = {\n        Username : 'username',\n        Pool : userPool\n    };\n    var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\n    cognitoUser.authenticateUser(authenticationDetails, {\n        onSuccess: function (result) {\n            var accessToken = result.getAccessToken().getJwtToken();\n\n            //POTENTIAL: Region needs to be set if not already set previously elsewhere.\n            AWS.config.region = '<region>';\n\n            AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n                IdentityPoolId : '...', // your identity pool id here\n                Logins : {\n                    // Change the key below according to the specific region your user pool is in.\n                    'cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>' : result.getIdToken().getJwtToken()\n                }\n            });\n\n            //refreshes credentials using AWS.CognitoIdentity.getCredentialsForIdentity()\n            AWS.config.credentials.refresh((error) => {\n                if (error) {\n                     console.error(error);\n                } else {\n                     // Instantiate aws sdk service objects now that the credentials have been updated.\n                     // example: var s3 = new AWS.S3();\n                     console.log('Successfully logged!');\n                }\n            });\n        },\n\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        },\n\n    });\n```\n\nNote that if device tracking is enabled for the user pool with a setting that user opt-in is required, you need to implement an onSuccess(result, userConfirmationNecessary) callback, collect user input and call either setDeviceStatusRemembered to remember the device or setDeviceStatusNotRemembered to not remember the device.\n\nNote also that if CognitoUser.authenticateUser throws ReferenceError: navigator is not defined when running on Node.js, follow the instructions on the following [Stack Overflow post](http://stackoverflow.com/questions/40219518/aws-cognito-unauthenticated-login-error-window-is-not-defined-js).\n\n**Use case 5.** Retrieve user attributes for an authenticated user.\n\n```javascript\n    cognitoUser.getUserAttributes(function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        for (i = 0; i < result.length; i++) {\n            console.log('attribute ' + result[i].getName() + ' has value ' + result[i].getValue());\n        }\n    });\n```\n\n**Use case 6.** Verify user attribute for an authenticated user.\n\nNote that the inputVerificationCode method needs to be defined but does not need to actually do anything. If you would like the user to input the verification code on another page, you can set inputVerificationCode to null. If inputVerificationCode is null, onSuccess will be called immediately (assuming there is no error).\n\n```javascript\n    cognitoUser.getAttributeVerificationCode('email', {\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        },\n        inputVerificationCode: function() {\n            var verificationCode = prompt('Please input verification code: ' ,'');\n            cognitoUser.verifyAttribute('email', verificationCode, this);\n        }\n    });\n```\n\n**Use case 7.** Delete user attribute for an authenticated user.\n\n```javascript\n    var attributeList = [];\n    attributeList.push('nickname');\n\n    cognitoUser.deleteAttributes(attributeList, function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 8.** Update user attributes for an authenticated user.\n\n```javascript\n    var attributeList = [];\n    var attribute = {\n        Name : 'nickname',\n        Value : 'joe'\n    };\n    var attribute = new AmazonCognitoIdentity.CognitoUserAttribute(attribute);\n    attributeList.push(attribute);\n\n    cognitoUser.updateAttributes(attributeList, function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 9.** Enabling MFA for a user on a pool that has an optional MFA setting for an authenticated user.\n\n```javascript\n    cognitoUser.enableMFA(function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 10.** Disabling MFA for a user on a pool that has an optional MFA setting for an authenticated user.\n\n```javascript\n    cognitoUser.disableMFA(function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 11.** Changing the current password for an authenticated user.\n\n```javascript\n    cognitoUser.changePassword('oldPassword', 'newPassword', function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 12.** Starting and completing a forgot password flow for an unauthenticated user.\n\n```javascript\n    cognitoUser.forgotPassword({\n        onSuccess: function (data) {\n            // successfully initiated reset password request\n\t          console.log('CodeDeliveryData from forgotPassword: ' + data);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        },\n        //Optional automatic callback\n        inputVerificationCode: function(data) {\n            console.log('Code sent to: ' + data);\n            var verificationCode = prompt('Please input verification code ' ,'');\n            var newPassword = prompt('Enter new password ' ,'');\n            cognitoUser.confirmPassword(verificationCode, newPassword, {\n                onSuccess() {\n                    console.log('Password confirmed!');\n                },\n                onFailure(err) {\n                    console.log('Password not confirmed!');\n                }\n            });\n        }\n    });\n```\n\n\n\n**Use case 13.** Deleting an authenticated user.\n\n```javascript\n    cognitoUser.deleteUser(function(err, result) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('call result: ' + result);\n    });\n```\n\n**Use case 14.** Signing out from the application.\n\n```javascript\n    cognitoUser.signOut();\n```\n\n**Use case 15.** Global signout for an authenticated user(invalidates all issued tokens).\n\n```javascript\n    cognitoUser.globalSignOut(callback);\n```\n\n**Use case 16 with React Native.**\n\nIn React Native, loading the persisted current user information requires an extra async call to be made:\n\n```javascript\n    var poolData = {\n      UserPoolId : '...', // Your user pool id here\n      ClientId : '...' // Your client id here\n    };\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n    userPool.storage.sync(function(err, result) {\n      if (err) { }\n      else if (result === 'SUCCESS') {\n        var cognitoUser = userPool.getCurrentUser();\n        // Continue with steps in Use case 16\n      }\n    });\n```\n\n**Use case 16.** Retrieving the current user from local storage.\n\n```javascript\n    var poolData = {\n        UserPoolId : '...', // Your user pool id here\n        ClientId : '...' // Your client id here\n    };\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n    var cognitoUser = userPool.getCurrentUser();\n\n    if (cognitoUser != null) {\n        cognitoUser.getSession(function(err, session) {\n            if (err) {\n                alert(err.message || JSON.stringify(err));\n                return;\n            }\n            console.log('session validity: ' + session.isValid());\n\n            // NOTE: getSession must be called to authenticate user before calling getUserAttributes\n            cognitoUser.getUserAttributes(function(err, attributes) {\n                if (err) {\n                    // Handle error\n                } else {\n                    // Do something with attributes\n                }\n            });\n\n            AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n                IdentityPoolId : '...', // your identity pool id here\n                Logins : {\n                    // Change the key below according to the specific region your user pool is in.\n                    'cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>' : session.getIdToken().getJwtToken()\n                }\n            });\n\n            // Instantiate aws sdk service objects now that the credentials have been updated.\n            // example: var s3 = new AWS.S3();\n\n        });\n    }\n```\n\n**Use case 17.** Integrating User Pools with Cognito Identity.\n\n```javascript\n    var cognitoUser = userPool.getCurrentUser();\n\n    if (cognitoUser != null) {\n        cognitoUser.getSession(function(err, result) {\n            if (result) {\n                console.log('You are now logged in.');\n\n                // Add the User's Id Token to the Cognito credentials login map.\n                AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n                    IdentityPoolId: 'YOUR_IDENTITY_POOL_ID',\n                    Logins: {\n                        'cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>': result.getIdToken().getJwtToken()\n                    }\n                });\n            }\n        });\n    }\n    //call refresh method in order to authenticate user and get new temp credentials\n    AWS.config.credentials.refresh((error) => {\n        if (error) {\n            console.error(error);\n        } else {\n            console.log('Successfully logged!');\n        }\n    });\n```\n*note that you can not replace the login key with a variable because it will be interpreted literally. if you want to use a variable, the resolution to [issue 17](https://github.com/aws/amazon-cognito-identity-js/issues/162) has a working example*\n\n**Use case 18.** List all remembered devices for an authenticated user. In this case, we need to pass a limit on the number of devices retrieved at a time and a pagination token is returned to make subsequent calls. The pagination token can be subsequently passed. When making the first call, the pagination token should be null.\n\n```javascript\n\n    cognitoUser.listDevices(limit, paginationToken, {\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message);\n        }\n    });\n\n```\n\n**Use case 19.** List information about the current device.\n\n```javascript\n\n    cognitoUser.getDevice({\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        }\n    });\n```\n\n\n**Use case 20.** Remember a device.\n\n```javascript\n\n    cognitoUser.setDeviceStatusRemembered({\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        }\n    });\n```\n\n**Use case 21.** Do not remember a device.\n\n```javascript\n\n    cognitoUser.setDeviceStatusNotRemembered({\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        }\n    });\n```\n\n\n**Use case 22.** Forget the current device.\n\n```javascript\n\n    cognitoUser.forgetDevice({\n        onSuccess: function (result) {\n            console.log('call result: ' + result);\n        },\n        onFailure: function(err) {\n            alert(err.message || JSON.stringify(err));\n        }\n    });\n```\n\n**Use case 23.** Authenticate a user and set new password for a user that was created using AdminCreateUser API.\n\n```javascript\n\n    cognitoUser.authenticateUser(authenticationDetails, {\n        onSuccess: function (result) {\n            // User authentication was successful\n        },\n\n        onFailure: function(err) {\n            // User authentication was not successful\n        },\n\n        mfaRequired: function(codeDeliveryDetails) {\n            // MFA is required to complete user authentication.\n            // Get the code from user and call\n            cognitoUser.sendMFACode(mfaCode, this)\n        },\n\n        newPasswordRequired: function(userAttributes, requiredAttributes) {\n            // User was signed up by an admin and must provide new\n            // password and required attributes, if any, to complete\n            // authentication.\n\n            // the api doesn't accept this field back\n            delete userAttributes.email_verified;\n\n            // Get these details and call\n            cognitoUser.completeNewPasswordChallenge(newPassword, userAttributes, this);\n        }\n    });\n```\n**Use case 24.** Retrieve the MFA Options for the user in case MFA is optional.\n\n```javascript\n    cognitoUser.getMFAOptions(function(err, mfaOptions) {\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n        console.log('MFA options for user ' + mfaOptions);\n    });\n```\n\n**Use case 25.** Authenticating a user with a passwordless custom flow.\n\n```javascript\n    cognitoUser.setAuthenticationFlowType('CUSTOM_AUTH');\n\n    cognitoUser.initiateAuth(authenticationDetails, {\n        onSuccess: function(result) {\n            // User authentication was successful\n        },\n        onFailure: function(err) {\n            // User authentication was not successful\n        },\n        customChallenge: function(challengeParameters) {\n            // User authentication depends on challenge response\n            var challengeResponses = 'challenge-answer'\n            cognitoUser.sendCustomChallengeAnswer(challengeResponses, this);\n        }\n    });\n```\n\n**Use case 26.** Using cookies to store cognito tokens\n\n```javascript\n```\n\nTo use the CookieStorage you have to pass it in the constructor map of CognitoUserPool and CognitoUser (when constructed directly):\n\n ```js\n  var poolData = {\n      UserPoolId : '...', // Your user pool id here\n      ClientId : '...' // Your client id here\n      Storage: new AmazonCognitoIdentity.CookieStorage({domain: \".yourdomain.com\"})\n  };\n\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n  var userData = {\n      Username: 'username',\n      Pool: userPool,\n      Storage: new AmazonCognitoIdentity.CookieStorage({domain: \".yourdomain.com\"})\n  };\n  ```\nThe CookieStorage object receives a map (data) in its constructor that may have these values:\n * data.domain Cookies domain (mandatory)\n * data.path Cookies path (default: '/')\n * data.expires Cookie expiration (in days, default: 365)\n * data.secure Cookie secure flag (default: true)\n\n**Use case 27.** Selecting the MFA method and authenticating using TOTP.\n\n ```js\n        var authenticationData = {\n            Username : 'username',\n            Password : 'password',\n        };\n        var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);\n        var poolData = {\n            UserPoolId : '...', // Your user pool id here\n            ClientId : '...' // Your client id here\n        };\n        var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n        var userData = {\n            Username : 'username',\n            Pool : userPool\n        };\n        var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\n\n        cognitoUser.authenticateUser(authenticationDetails, {\n            onSuccess: function (result) {\n                var accessToken = result.getAccessToken().getJwtToken();\n            },\n\n            onFailure: function(err) {\n                alert(err.message || JSON.stringify(err));\n            },\n\n            mfaSetup: function(challengeName, challengeParameters) {\n                cognitoUser.associateSoftwareToken(this);\n            },\n\n            associateSecretCode : function(secretCode) {\n                var challengeAnswer = prompt('Please input the TOTP code.' ,'');\n                cognitoUser.verifySoftwareToken(challengeAnswer, 'My TOTP device', this);\n            },\n\n            selectMFAType : function(challengeName, challengeParameters) {\n                var mfaType = prompt('Please select the MFA method.', ''); // valid values for mfaType is \"SMS_MFA\", \"SOFTWARE_TOKEN_MFA\" \n                cognitoUser.sendMFASelectionAnswer(mfaType, this);\n            },\n\n            totpRequired : function(secretCode) {\n                var challengeAnswer = prompt('Please input the TOTP code.' ,'');\n                cognitoUser.sendMFACode(challengeAnswer, this, 'SOFTWARE_TOKEN_MFA');\n            },\n\n            mfaRequired: function(codeDeliveryDetails) {\n                var verificationCode = prompt('Please input verification code' ,'');\n                cognitoUser.sendMFACode(verificationCode, this);\n            }\n        });\n  ```\n\n**Use case 28.** Enabling and setting SMS MFA as the preferred MFA method for the user.\n\n ```js\n        smsMfaSettings = {\n            PreferredMfa : true,\n            Enabled : true\n        };\n        cognitoUser.setUserMfaPreference(smsMfaSettings, null, function(err, result) {\n            if (err) {\n                alert(err.message || JSON.stringify(err));\n            }\n            console.log('call result ' + result)\n        });\n  ```\n\n**Use case 29.** Enabling and setting TOTP MFA as the preferred MFA method for the user.\n\n ```js\n       \ttotpMfaSettings = {\n            PreferredMfa : true,\n            Enabled : true\n        };\n        cognitoUser.setUserMfaPreference(null, totpMfaSettings, function(err, result) {\n            if (err) {\n                alert(err.message || JSON.stringify(err));\n            }\n            console.log('call result ' + result)\n        });\n  ```\n  \n**Use case 30.** Authenticating a user with a user password auth flow. \n\n  ```js\n\t     cognitoUser.setAuthenticationFlowType('USER_PASSWORD_AUTH');\n\t\n\t     cognitoUser.authenticateUser(authenticationDetails, {\n\t        onSuccess: function(result) {\n\t            // User authentication was successful\n\t        },\n\t        onFailure: function(err) {\n\t            // User authentication was not successful\n\t        },\n\t        mfaRequired: function (codeDeliveryDetails) {\n\t            // MFA is required to complete user authentication.  \n\t            // Get the code from user and call\n\t            cognitoUser.sendMFACode(verificationCode, this);\n\t        }\n\t     });\n  ```\n  \n**Use case 31.** Retrieve the user data for an authenticated user. \n\n  ```js\n\t    cognitoUser.getUserData(function(err, userData) {\n\t        if (err) {\n\t            alert(err.message || JSON.stringify(err));\n\t            return;\n\t        }\n\t        console.log('User data for user ' + userData);\n\t    });\n  ```\n\n**Use case 32.** Handling expiration of the Id Token. \n\n  ```js\n      refresh_token = session.getRefreshToken(); // receive session from calling cognitoUser.getSession()\n      if (AWS.config.credentials.needsRefresh()) {\n        cognitoUser.refreshSession(refresh_token, (err, session) => {\n          if(err) {\n            console.log(err);\n          } \n          else {\n            AWS.config.credentials.params.Logins['cognito-idp.<YOUR-REGION>.amazonaws.com/<YOUR_USER_POOL_ID>']  = session.getIdToken().getJwtToken();\n            AWS.config.credentials.refresh((err)=> {\n              if(err)  {\n                console.log(err);\n              }\n              else{\n                console.log(\"TOKEN SUCCESSFULLY UPDATED\");\n              }\n            });\n          }\n        });\n      }\n  ```  \n\n## Network Configuration\nThe Amazon Cognito Identity JavaScript SDK will make requests to the following endpoints\n* For Amazon Cognito User Pool service request handling: \"https://cognito-idp.us-east-1.amazonaws.com\"\n  * This endpoint may change based on which region your Cognito User Pool was created in.\n\nFor most frameworks you can whitelist the domain by whitelisting all AWS endpoints with \"*.amazonaws.com\".\n\n## Random numbers\n\nIn order to authenticate with the Amazon Cognito User Pool Service, the client needs to generate a random number as part of the SRP protocol. The AWS SDK is only compatible with modern browsers, and these include [support for cryptographically strong random values](https://caniuse.com/#feat=cryptography). If you do need to support older browsers then you should include a strong polyfill for `window.crypto.getRandomValues()` before including this library.\n\n## Change Log\n\n**v2.0.2:**\n* What has changed\n  * To make a new version for NPM package sync with Github repo. \n\n**v2.0.1:**\n* What has changed\n  * Added migration lambda trigger support. \n\n**v1.31.0:**\n* What has changed\n  * Added lib folder.\n\n**v1.30.0:**\n* What has changed\n  * Temporary fix to lock down the AWS SDK version to a compatible one.\n  \n**v1.29.0:**\n* What has changed\n  * Fixing verify software token call to work with access token.\n\n**v1.28.0:**\n* What has changed\n  * Not sending UserContextData if it is not available.\n\n**v1.27.0:**\n* What has changed\n  * Added support for TOTP and new MFA settings APIs.\n\n**v1.26.0:**\n* What has changed\n  * Fixed typescript typings.\n\n**v1.25.0:**\n* What has changed\n  * Added cookie storage support and solved bug related to clock drift parsing.\n\n**v1.24.0:**\n* What has changed\n  * Fixed bug related to missing callback\n\n**v1.23.0:**\n* What has changed\n  * Added react native optimizations for BigInteger\n\n**v1.19.0:**\n* What has changed\n  * Added UserSub return on sign up\n\n**v1.18.0:**\n* What has changed\n  * Added missing result in resendConfirmationCode.\n\n**v1.17.0:**\n* What has changed\n  * Added non-minified files.\n\n**v1.16.0:**\n* What has changed\n  * Brought in JSBN and updated Notice file.\n\n**v1.15.0:**\n* What has changed\n  * Solved an issue that occurred rarely related to the padding of the U value that is used in computing the HKDF.\n\n**v1.14.0:**\n* What has changed\n  * Importing only the CognitoIdentityServiceProvider client and util from the AWS SDK.\n\n**v1.13.0:**\n* What has changed\n  * Removed SJCL as a dependency and fixed typescript typings.\n\n**v1.12.0:**\n* What has changed\n  * Added typescript typings.\n\n**v1.11.0:**\n* What has changed\n  * Added challenge parameters to the mfaRequired function of the return object.\n\n**v1.10.0:**\n* What has changed\n  * Clearing tokens when they have been revoked and adding retrieval for MFAOptions.\n\n**v1.9.0:**\n* What has changed\n  * Fixed dependency on local storage. Reverting to memory use when local storage is not available.\n\n**v1.7.0:**\n* What has changed\n  * Fixed Cannot read property 'NewDeviceMetadata' of undefined bug.\n\n**v1.6.0:**\n* What has changed\n  * Support for Admin create user flow. Users being signed up by admins will be able to authenticate using their one time passwords.\n\n**v1.5.0:**\n* What has changed\n  * Changed webpack support to follow AWS-SDK usage.\n\n**v1.2.0:**\n* What has changed\n  * Derived the region from the user pool id so the region doesn't need to be configured anymore.\n\n**v1.1.0:**\n* What has changed\n   * Fixed a bug in token parsing.\n   * Removed moment.js as a dependency.\n\n**v1.0.0:**\n* GA release. In this GA service launch, the following new features have been added to Amazon Cognito Your User Pools.\n\n*  Whats new\n   * Webpack support.\n   * Support for Custom authentication flows. Developers can implement custom authentication flows around Cognito Your User Pools. See developer documentation for details.\n   * Devices support in User Pools. Users can remember devices and skip MFA verification for remembered devices.\n   * Scopes to control permissions for attributes in a User Pool.\n   * Configurable expiration time for refresh tokens.\n   * Set custom FROM and REPLY-TO for email verification messages.\n   * Search users in your pool using user attributes.\n   * Global sign-out for a user.\n   * Removed dependency to sjcl bytes codec.\n\n* What has changed\n   * Authentication flow in Javascript SDK now uses Custom Authentication API\n   * Two new exceptions added for the authentication APIs: These exceptions have been added to accurately represent the user state when the username is invalid and when the user is not confirmed. You will have to update your application to handle these exceptions.\n       * UserNotFoundException: Returned when the username user does not exist.\n       * UserNotConfirmedException: Returned when the user has not been confirmed.\n       * PasswordResetRequiredException: When administrator has requested for a password reset for the user.\n\n**v0.9.0:**\n* Initial release. Developer preview.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/aws/aws-amplify.git"
  },
  "scripts": {
    "build": "npm run clean && npm run build:commonjs && npm run build:es && npm run build:umd",
    "build:commonjs": "cross-env BABEL_ENV=commonjs babel src --out-dir lib",
    "build:es": "cross-env BABEL_ENV=es babel src --out-dir es",
    "build:umd": "webpack",
    "clean": "rimraf lib es",
    "doc": "jsdoc src -d docs",
    "lint": "eslint src",
    "lint2": "eslint enhance-rn.js",
    "test": "eslint src"
  },
  "types": "./index.d.ts",
  "version": "2.0.19"
}
